{
  "query": "\n-- Verificar se os planos já existem\nSELECT COUNT(*) as count FROM subscription_plans;\n\n-- Inserir planos de assinatura se não existirem\nINSERT INTO subscription_plans (name, description, price, billing_cycle, features, is_active)\nSELECT 'Básico', 'Perfeito para começar', '99.99', 'monthly', \n  JSON_ARRAY('Até 10 clientes', 'Agendamentos básicos', 'Relatórios simples', 'Suporte por email'),\n  1\nWHERE NOT EXISTS (SELECT 1 FROM subscription_plans WHERE name = 'Básico')\n\nUNION ALL\n\nSELECT 'Profissional', 'Mais popular', '199.99', 'monthly',\n  JSON_ARRAY('Até 100 clientes', 'Agendamentos avançados', 'Relatórios detalhados', 'Precificação inteligente', 'Suporte prioritário', 'Integrações'),\n  1\nWHERE NOT EXISTS (SELECT 1 FROM subscription_plans WHERE name = 'Profissional')\n\nUNION ALL\n\nSELECT 'Enterprise', 'Para grandes operações', '499.99', 'monthly',\n  JSON_ARRAY('Clientes ilimitados', 'Todas as funcionalidades', 'API customizada', 'Suporte 24/7', 'Gerenciador dedicado', 'Integrações ilimitadas'),\n  1\nWHERE NOT EXISTS (SELECT 1 FROM subscription_plans WHERE name = 'Enterprise');\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway03.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 296ivcngTEGWqDy.root --database PT8FFdtU6KTqcZejJTHTYK --execute \n-- Verificar se os planos já existem\nSELECT COUNT(*) as count FROM subscription_plans;\n\n-- Inserir planos de assinatura se não existirem\nINSERT INTO subscription_plans (name, description, price, billing_cycle, features, is_active)\nSELECT 'Básico', 'Perfeito para começar', '99.99', 'monthly', \n  JSON_ARRAY('Até 10 clientes', 'Agendamentos básicos', 'Relatórios simples', 'Suporte por email'),\n  1\nWHERE NOT EXISTS (SELECT 1 FROM subscription_plans WHERE name = 'Básico')\n\nUNION ALL\n\nSELECT 'Profissional', 'Mais popular', '199.99', 'monthly',\n  JSON_ARRAY('Até 100 clientes', 'Agendamentos avançados', 'Relatórios detalhados', 'Precificação inteligente', 'Suporte prioritário', 'Integrações'),\n  1\nWHERE NOT EXISTS (SELECT 1 FROM subscription_plans WHERE name = 'Profissional')\n\nUNION ALL\n\nSELECT 'Enterprise', 'Para grandes operações', '499.99', 'monthly',\n  JSON_ARRAY('Clientes ilimitados', 'Todas as funcionalidades', 'API customizada', 'Suporte 24/7', 'Gerenciador dedicado', 'Integrações ilimitadas'),\n  1\nWHERE NOT EXISTS (SELECT 1 FROM subscription_plans WHERE name = 'Enterprise');\n",
  "returncode": 1,
  "logs": [
    "ERROR 1146 (42S02) at line 3: Table 'pt8ffdtu6ktqczejjthtyk.subscription_plans' doesn't exist"
  ]
}